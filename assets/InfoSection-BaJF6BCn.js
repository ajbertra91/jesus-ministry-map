import{r as a,j as c}from"./index-DdL5j7ur.js";const H=({glitchColors:s=["#2b4539","#61dca3","#61b3dc"],className:i="",glitchSpeed:d=50,centerVignette:h=!1,outerVignette:p=!0,smooth:w=!0,characters:L="ABCDEFGHIJKLMNOPQRSTUVWXYZ!@#$&*()-_+=/[]{};:<>.,0123456789"})=>{const f=a.useRef(null),g=a.useRef(null),o=a.useRef([]),b=a.useRef({columns:0,rows:0}),m=a.useRef(null),M=a.useRef(Date.now()),j=Array.from(L),S=16,E=10,C=20,k=()=>j[Math.floor(Math.random()*j.length)],v=()=>s[Math.floor(Math.random()*s.length)],N=t=>{const r=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(r,(n,l,u,x)=>l+l+u+u+x+x);const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},T=(t,r,e)=>{const n={r:Math.round(t.r+(r.r-t.r)*e),g:Math.round(t.g+(r.g-t.g)*e),b:Math.round(t.b+(r.b-t.b)*e)};return`rgb(${n.r}, ${n.g}, ${n.b})`},$=(t,r)=>{const e=Math.ceil(t/E),n=Math.ceil(r/C);return{columns:e,rows:n}},z=(t,r)=>{b.current={columns:t,rows:r};const e=t*r;o.current=Array.from({length:e},()=>({char:k(),color:v(),targetColor:v(),colorProgress:1}))},P=()=>{const t=f.current;if(!t)return;const r=t.parentElement;if(!r)return;const e=window.devicePixelRatio||1,n=r.getBoundingClientRect();t.width=Math.max(1,Math.floor(n.width*e)),t.height=Math.max(1,Math.floor(n.height*e)),t.style.width=`${n.width}px`,t.style.height=`${n.height}px`,m.current&&m.current.setTransform(e,0,0,e,0,0);const{columns:l,rows:u}=$(n.width,n.height);z(l,u),y()},y=()=>{if(!m.current||o.current.length===0||!f.current)return;const t=m.current,r=f.current.getBoundingClientRect(),e=r.width,n=r.height;t.clearRect(0,0,e,n),t.font=`${S}px monospace`,t.textBaseline="top",o.current.forEach((l,u)=>{const x=u%b.current.columns*E,D=Math.floor(u/b.current.columns)*C;t.fillStyle=l.color,t.fillText(l.char,x,D)})},A=()=>{if(!o.current||o.current.length===0)return;const t=Math.max(1,Math.floor(o.current.length*.05));for(let r=0;r<t;r++){const e=Math.floor(Math.random()*o.current.length);o.current[e]&&(o.current[e].char=k(),o.current[e].targetColor=v(),w?o.current[e].colorProgress=0:(o.current[e].color=o.current[e].targetColor,o.current[e].colorProgress=1))}},I=()=>{let t=!1;o.current.forEach(r=>{if(r.colorProgress<1){r.colorProgress+=.05,r.colorProgress>1&&(r.colorProgress=1);const e=N(r.color),n=N(r.targetColor);e&&n&&(r.color=T(e,n,r.colorProgress),t=!0)}}),t&&y()},R=()=>{const t=Date.now();t-M.current>=d&&(A(),y(),M.current=t),w&&I(),g.current=requestAnimationFrame(R)};a.useEffect(()=>{const t=f.current;if(!t)return;m.current=t.getContext("2d"),P(),R();let r;const e=()=>{r&&window.clearTimeout(r),r=window.setTimeout(()=>{g.current!=null&&cancelAnimationFrame(g.current),P(),R()},100)};return window.addEventListener("resize",e),()=>{g.current!=null&&cancelAnimationFrame(g.current),window.removeEventListener("resize",e)}},[d,w]);const V={position:"absolute",inset:0,zIndex:0,width:"100%",height:"100%",backgroundColor:"#000000",overflow:"hidden",opacity:.3},B={display:"block",width:"100%",height:"100%"},F={position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",background:"radial-gradient(circle, rgba(0,0,0,0) 60%, rgba(0,0,0,1) 100%)"},G={position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",background:"radial-gradient(circle, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 60%)"};return c.jsxs("div",{style:V,className:i,children:[c.jsx("canvas",{ref:f,style:B}),p&&c.jsx("div",{style:F}),h&&c.jsx("div",{style:G})]})},W=({open:s,onClose:i,children:d})=>(a.useEffect(()=>{const h=p=>{p.key==="Escape"&&i()};return s&&document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[s,i]),s?c.jsx("div",{className:"modal-backdrop",onClick:i,children:c.jsxs("div",{className:"modal",onClick:h=>h.stopPropagation(),children:[c.jsx("button",{className:"modal-close",onClick:i,"aria-label":"Close",children:"x"}),c.jsxs("div",{className:"modal-body",children:[c.jsx(H,{glitchSpeed:50,centerVignette:!0,outerVignette:!1,smooth:!0,className:"letter-glitch"}),c.jsx("div",{className:"modal-content",children:d})]})]})}):null),_=({label:s,detail:i,children:d})=>c.jsxs("section",{className:"info-section",children:[c.jsx("p",{className:"info-section-label orbitron-regular text-red",children:s}),c.jsx("div",{className:"info-section-divider"}),c.jsx("p",{className:"info-section-visual-detail orbitron-regular text-red",children:i}),d]});export{_ as I,W as M};
