import{r as j,j as e}from"./index-CRVwnNGe.js";import{G as p,F as y}from"./index-ChEG4ZYu.js";import{c as v,s as N,u as C}from"./serviceRegistry-DK7ed2t0.js";import{M,I as m}from"./InfoSection-Ct-kJOvf.js";import{K as R}from"./KingsHeader-umZ3UDNU.js";import{G as w}from"./iconBase-BpWHXfoa.js";const k=v({method:"GET",url:N.KINGS}),_=()=>{const{data:a,isLoading:d,error:c}=C({queryKey:["kings"],queryFn:()=>k({})});return{data:a,isLoading:d,error:c}},E=({children:a})=>{const d=j.useRef(null),c=j.useRef(null);j.useEffect(()=>{const t=d.current;if(!t)return;const r=t.getContext("2d");if(!r)return;const i=(o,s)=>{const n=window.devicePixelRatio||1;t.width=Math.floor(o*n),t.height=Math.floor(s*n),r.setTransform(n,0,0,n,0,0),l(r,o,s)};return c.current=new ResizeObserver(o=>{const s=o[0];if(!s)return;const{width:n,height:h}=s.contentRect;n===0||h===0||i(n,h)}),c.current.observe(t),()=>{c.current?.disconnect(),c.current=null}},[]);function l(t,r,i){t.fillStyle="rgba(94, 246, 255, 0.1)",t.fillRect(0,0,r,i),x(t,r,i)}function x(t,r,i){const s=Math.PI/4,n=Math.hypot(r,i);t.strokeStyle="rgba(94, 246, 255, 0.12)",t.lineWidth=1.5,t.save(),t.translate(r/2,i/2),t.rotate(s),t.translate(-r/2,-i/2);for(let h=-n;h<i+n;h+=6){t.beginPath();let u=-n,f=h;for(t.moveTo(u,f);u<r+n;){const b=40+Math.random()*60;u+=b,t.lineTo(u,f),Math.random()<.15&&(f+=6*(Math.random()>.5?1:-1),t.lineTo(u,f))}t.stroke()}t.restore()}return e.jsxs("div",{className:"circuit-board-container",children:[e.jsx("canvas",{ref:d,className:"circuit-board-canvas"}),e.jsx("div",{className:"circuit-board-content",children:a})]})},g=({king:a,onClick:d,style:c,split:l=!1})=>a?e.jsx("button",{className:"king-button orbitron-regular text-cyan",onClick:()=>d(a),style:c,title:`Was ${a.godly?"":"not"} a Godly King`,children:e.jsxs(E,{children:[a.godly&&e.jsx("span",{className:"king-button__holy-icon",children:e.jsx(p,{})}),e.jsxs("span",{className:`king-button__text ${l?"king-button__text--split":""}`,children:[e.jsx("div",{className:"name",children:a.name}),e.jsxs("div",{className:"reign",children:[a.reignStart," - ",a.reignEnd]})]})]})}):null;function K(a){return w({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M96 0C43 0 0 43 0 96L0 416c0 53 43 96 96 96l288 0 32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l0-64c17.7 0 32-14.3 32-32l0-320c0-17.7-14.3-32-32-32L384 0 96 0zm0 384l256 0 0 64L96 448c-17.7 0-32-14.3-32-32s14.3-32 32-32zM208 80c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 48 48 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-48 0 0 112c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-112-48 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16l48 0 0-48z"},child:[]}]})(a)}const S=({className:a="",fillProbability:d=.5})=>{const c=j.useRef(null);return j.useEffect(()=>{const l=c.current;if(!l)return;const x=l.getContext("2d");if(!x)return;const t=2,r=10,i=()=>{const o=l.getBoundingClientRect();l.width=o.width,l.height=o.height,x.clearRect(0,0,l.width,l.height);const s=Math.floor(l.width/t),n=Math.floor(l.height/r);x.fillStyle="#F75049";for(let h=0;h<n;h++)for(let u=0;u<s;u++)Math.random()<d&&x.fillRect(u*t,h*r,t,r)};return i(),window.addEventListener("resize",i),()=>{window.addEventListener("resize",i)}},[d]),e.jsxs("div",{className:`bar-code-container ${a}`,children:[e.jsx("canvas",{ref:c,className:"bar-code__canvas"}),e.jsx("p",{className:"bar-code-numbers rajdhani-regular text-red",children:"5415210 1056845 51 850541000 540454 485151 590787090001 20JG8W4"})]})},B=()=>{const{data:a,isLoading:d,error:c}=_(),[l,x]=j.useState(null),[t,r]=j.useState(!1),i=s=>{x(s),r(!0)},o=s=>{if(!s)return 0;const n=Number(s.reignStart)-Number(s.reignEnd);return n<=0?10:n*10};return d?e.jsx("div",{children:"Loading..."}):c?e.jsx("div",{children:"Error loading kings data."}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"kings-page",children:[e.jsx(R,{title:e.jsx("h1",{className:"title orbitron-bold text-3xl text-cyan mb-4",children:"The Kings of Israel"})}),e.jsxs("section",{className:"kings-grid-container",children:[e.jsx("div",{className:"flex justify-center kings-unified",children:e.jsx("ul",{children:a?.kings?.kingdomOfJudah?.map((s,n)=>[0,1,2].includes(n)?e.jsx("li",{children:e.jsx(g,{king:s,onClick:()=>i(s),style:{height:`${o(s)}px`},split:!0})},s.name):null)})}),e.jsx("div",{className:"flex justify-end kings-judah",children:e.jsx("ul",{children:a?.kings?.kingdomOfJudah?.map((s,n)=>[0,1,2].includes(n)?null:e.jsx("li",{children:e.jsx(g,{king:s,onClick:()=>i(s),style:{height:`${o(s)}px`},split:!0})},s.name))})}),e.jsxs("div",{className:"timeline",children:[e.jsx("div",{className:"timeline-label label-900 orbitron-bold text-cyan",children:"900 BC"}),e.jsx("div",{className:"timeline-label label-800 orbitron-bold text-cyan",children:"800 BC"}),e.jsx("div",{className:"timeline-label label-700 orbitron-bold text-cyan",children:"700 BC"}),e.jsx("div",{className:"timeline-label label-600 orbitron-bold text-cyan",children:"600 BC"})]}),e.jsx("div",{className:"flex justify-start kings-israel",children:e.jsx("ul",{children:a?.kings?.kingdomOfIsrael?.map(s=>e.jsx("li",{children:e.jsx(g,{king:s,onClick:()=>i(s),style:{height:`${o(s)}px`},split:!0})},s.name))})})]})]}),e.jsx(M,{open:t,onClose:()=>r(!1),children:e.jsxs("div",{className:"king-modal-info",children:[e.jsx(m,{label:"Name",detail:"resources v.2361.188",children:e.jsxs("h3",{className:"orbitron-bold text-cyan flex align-center gap-6",children:[e.jsx("span",{children:l?.name}),l?.godly&&e.jsx("span",{className:"king-button__holy-icon",title:"Was a Godly king",children:e.jsx(p,{})})]})}),e.jsxs(m,{label:"Details",detail:"dtl_dlcas_8D0095",children:[e.jsxs("p",{className:"text-cyan flex align-center gap-6",children:[e.jsx(y,{})," King of ",l?.kingdom||"kingdom"]}),e.jsxs("p",{className:"text-cyan",children:["Reign: ",l?.reignStart," to ",l?.reignEnd]}),e.jsxs("p",{className:"text-cyan",children:["Dynasty: ",l?.dynasty||"N/A"]})]}),e.jsx(m,{label:"Notable Events",detail:"ntbl_evntA00000.51",children:e.jsx("ul",{children:l?.notableEvents?.map((s,n)=>e.jsx("li",{className:"text-cyan",children:s},n))})}),e.jsx(m,{label:"Scriptures",detail:"scripture kjv 1611.20",children:e.jsx("ul",{children:l?.scriptures?.map((s,n)=>e.jsxs("li",{className:"text-cyan flex align-center gap-6",children:[e.jsx(K,{})," ",s]},n))})}),e.jsx(m,{label:"Prophets",detail:"prpht p.abc100000.120",children:e.jsx("ul",{children:l?.prophets?.map((s,n)=>e.jsx("li",{className:"text-cyan",children:s},n))})}),e.jsx(m,{label:"Hight Priests",detail:"prst p.tkl852700.1.09",children:e.jsx("ul",{children:l?.highPriests?.map((s,n)=>e.jsx("li",{className:"text-cyan",children:s},n))})}),e.jsx(m,{label:"Biological Aspectation",detail:"",children:e.jsx("div",{className:"bar-code width-50-pc mt-4 h-60",children:e.jsx(S,{})})})]})})]})},H=()=>e.jsx(B,{});export{H as component};
